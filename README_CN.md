# å‘¨æŠ¥ä¸OKRåŠ©æ‰‹

ä¸­æ–‡æ–‡æ¡£ | [English](README.md)

ä¸€ä¸ªåŸºäº AI å¤§æ¨¡å‹çš„æ™ºèƒ½å·¥ä½œæŠ¥å‘ŠåŠ©æ‰‹ï¼Œä¸“ä¸ºæå‡èŒåœºæ•ˆç‡è€Œè®¾è®¡ã€‚é€šè¿‡æ—¥æŠ¥ç§¯ç´¯ã€å‘¨æŠ¥æ™ºèƒ½ç”Ÿæˆå’Œ OKR ç›®æ ‡ç®¡ç†ä¸‰å¤§æ ¸å¿ƒåŠŸèƒ½ï¼Œå¸®åŠ©æ‚¨å‘Šåˆ«ç¹ççš„æ–‡æ¡£æ•´ç†å·¥ä½œï¼Œè®©æŠ¥å‘Šæ’°å†™å˜å¾—ç®€å•é«˜æ•ˆã€‚

**æ ¸å¿ƒä»·å€¼ï¼š**
- ğŸ“ **æ—¥æŠ¥ç®¡ç†**ï¼šæ—¥å†å¼æ—¥æŠ¥å½•å…¥ï¼Œéšæ—¶è®°å½•å·¥ä½œå†…å®¹ï¼Œå†…ç½® TODO æé†’é¢æ¿
- ğŸ¤– **æ™ºèƒ½å‘¨æŠ¥**ï¼šä¸€é”®ä»æ—¥æŠ¥ç”Ÿæˆè§„èŒƒå‘¨æŠ¥ï¼Œè‡ªåŠ¨åˆ†ç±»å½’çº³ã€å»é‡åˆå¹¶ã€æå–é£é™©ç‚¹
- ğŸ¯ **OKR è§„åˆ’**ï¼šåŸºäºå†å²ææ–™æ™ºèƒ½ç”Ÿæˆå­£åº¦ OKRï¼ŒåŒ…å«é‡åŒ–æŒ‡æ ‡å’Œé‡Œç¨‹ç¢‘èŠ‚ç‚¹
- ğŸ’¾ **æœ¬åœ°å­˜å‚¨**ï¼šæ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ° SQLite æ•°æ®åº“ï¼Œå®‰å…¨å¯é 
- ğŸš€ **ä¸€é”®éƒ¨ç½²**ï¼šæ”¯æŒ Docker æˆ–æœ¬åœ°éƒ¨ç½²ï¼ŒWindows ç”¨æˆ·å¯ä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ä¸€é”®å¯åŠ¨

## ï¿½ äº§å“å±•ç¤º

### æ—¥æŠ¥å½•å…¥ç•Œé¢
![æ—¥æŠ¥å½•å…¥](./screenshots/daily-report-entry.png)
*æ—¥å†è§†å›¾ + TODO Tips è®°äº‹æ¿ + å¿«æ·æ¨¡æ¿*

### å‘¨æŠ¥ç”Ÿæˆç•Œé¢
![å‘¨æŠ¥ç”Ÿæˆ](./screenshots/weekly-report-generator.png)
*ä»æ—¥æŠ¥å¯¼å…¥ + æ™ºèƒ½åˆ†ç±» + é£é™©åˆ†æ*

### å‘¨æŠ¥æŸ¥è¯¢ç•Œé¢
![å‘¨æŠ¥æŸ¥è¯¢](./screenshots/weekly-report-query.png)
*å†å²æŸ¥è¯¢ + ç¼–è¾‘åˆ é™¤åŠŸèƒ½*

### OKR ç®¡ç†ç•Œé¢
![OKRç®¡ç†](./screenshots/okr-generator.png)
*æ™ºèƒ½ç”Ÿæˆ + é‡åŒ–æŒ‡æ ‡ + é‡Œç¨‹ç¢‘è§„åˆ’*

> ğŸ’¡ **æç¤º**ï¼šå¦‚éœ€æ·»åŠ æˆªå›¾ï¼Œè¯·å°†å›¾ç‰‡æ–‡ä»¶æ”¾ç½®åœ¨ `screenshots/` ç›®å½•ä¸‹ã€‚è¯¦è§ [screenshots/README.md](./screenshots/README.md)

## ï¿½ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### ğŸ“… æ—¥æŠ¥å½•å…¥
- **æ—¥å†è§†å›¾**ï¼šå¤§æ—¥å†ç•Œé¢ï¼Œç‚¹å‡»æ—¥æœŸç›´æ¥å½•å…¥æ—¥æŠ¥
- **å‘¨æœ«æ ‡è¯†**ï¼šå‘¨å…­å‘¨æ—¥çº¢è‰²å­—ä½“æ˜¾ç¤º
- **æ•°æ®æŒä¹…åŒ–**ï¼šæ—¥æŠ¥è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ° SQLite æ•°æ®åº“
- **å¿«æ·æ¨¡æ¿**ï¼šæ”¯æŒæ’å…¥æ—¥æŠ¥æ¨¡æ¿ï¼Œå¿«é€Ÿå¡«å†™
- **çŠ¶æ€æ ‡è¯†**ï¼šå·²å½•å…¥æ—¥æœŸç»¿è‰²æ ‡è®°ï¼Œä¸€ç›®äº†ç„¶
- **ç»Ÿè®¡åŠŸèƒ½**ï¼šæ˜¾ç¤ºæœ¬æœˆå’Œæ€»è®¡å½•å…¥æ•°é‡
- **TODO Tips**ï¼šå·¦ä¾§æ‚¬æµ®è®°äº‹æ¿ï¼Œå¯æ·»åŠ /å‹¾é€‰/åˆ é™¤ TODO é¡¹

### ğŸ“‹ å‘¨æŠ¥ç”Ÿæˆ
- **è‡ªåŠ¨å‘¨æŠ¥ç”Ÿæˆ**ï¼šä»æ–‡æœ¬æ—¥æŠ¥ï¼ˆå•å¤©æˆ–æ•´å‘¨æ‹¼æ¥ï¼‰ç”Ÿæˆå›ºå®šç»“æ„çš„å‘¨æŠ¥é‚®ä»¶æ­£æ–‡
- **ä»æ—¥æŠ¥å¯¼å…¥**ï¼šä¸€é”®é€‰æ‹©å·²å½•å…¥çš„æ—¥æŠ¥ï¼Œæ”¯æŒè‡ªå®šä¹‰æ—¥æœŸèŒƒå›´ï¼ˆå¯é€‰å†å²æ—¥æŠ¥ï¼‰
- **çµæ´»æ—¥æœŸèŒƒå›´**ï¼šç”Ÿæˆå‘¨æŠ¥æ—¶ä½¿ç”¨å®é™…å¯¼å…¥çš„æ—¥æœŸèŒƒå›´ï¼Œè€Œéå›ºå®šæœ¬å‘¨èŒƒå›´
- **æ™ºèƒ½æ—¥æœŸè¯†åˆ«**ï¼šè‡ªåŠ¨è¯†åˆ«æ—¥æœŸæ ¼å¼ï¼ˆ`20251212 8h` æˆ– `2025-12-12 8h`ï¼‰
- **æ™ºèƒ½åˆ†ç±»**ï¼šè‡ªåŠ¨å½’ç±»æ‰‹ä¸Šé¡¹ç›®ã€æœåŠ¡åŒ–èƒ½åŠ›å»ºè®¾ã€é¢„ç ”ã€å…¶ä»–äº‹åŠ¡æ€§å·¥ä½œ
- **å»é‡åˆå¹¶**ï¼šè‡ªåŠ¨å»é‡åˆå¹¶ç›¸ä¼¼æ¡ç›®
- **é£é™©åˆ†æ**ï¼šé£é™©ç‚¹æå–ä¸åº”å¯¹å»ºè®®
- **ä¿å­˜å‘¨æŠ¥**ï¼šç”Ÿæˆçš„å‘¨æŠ¥å¯ä¿å­˜åˆ°æ•°æ®åº“

### ğŸ” å‘¨æŠ¥æŸ¥è¯¢
- **å†å²æŸ¥è¯¢**ï¼šæŒ‰æ—¥æœŸèŒƒå›´æŸ¥è¯¢å†å²å‘¨æŠ¥
- **ç¼–è¾‘åŠŸèƒ½**ï¼šå¯ç¼–è¾‘å·²ä¿å­˜çš„å‘¨æŠ¥
- **åˆ é™¤åŠŸèƒ½**ï¼šå¯åˆ é™¤ä¸éœ€è¦çš„å‘¨æŠ¥è®°å½•

### ğŸ¯ OKR ç®¡ç†
- **æ™ºèƒ½ OKR ç”Ÿæˆ**ï¼šç»“åˆå†å²ææ–™ç”Ÿæˆä¸‹ä¸€å­£åº¦ OKR
- **æ˜ç¡®æ—¶é—´èŠ‚ç‚¹**ï¼šæ¯ä¸ª KR åŒ…å«æ˜ç¡®æ—¥æœŸèŠ‚ç‚¹ï¼ˆ`YYYY-MM-DDå‰`ï¼‰
- **é‡åŒ–æŒ‡æ ‡**ï¼šæ¯ä¸ª KR åŒ…å«é‡åŒ–è¡¨è¾¾ï¼ˆé˜ˆå€¼/æ¯”ä¾‹/æ•°é‡ç­‰ï¼‰
- **é‡Œç¨‹ç¢‘è§„åˆ’**ï¼šå…³é”® KR åŒ…å«é˜¶æ®µé‡Œç¨‹ç¢‘ï¼ˆM1/M2/M3ï¼‰
- **ç›®æ ‡ç®¡ç†**ï¼šç”Ÿæˆ 2-3 ä¸ªåˆç†ç›®æ ‡
- **ä¿å­˜ OKR**ï¼šç”Ÿæˆçš„ OKR å¯ä¿å­˜åˆ°æ•°æ®åº“

### ğŸ’¾ æ•°æ®å­˜å‚¨
- ä½¿ç”¨ SQLite è½»é‡çº§æ•°æ®åº“
- æ•°æ®æ–‡ä»¶ä½ç½®ï¼š`backend/data/reports.db`
- å››å¼ è¡¨ï¼šæ—¥æŠ¥(daily_reports)ã€å‘¨æŠ¥(weekly_reports)ã€OKR(okr_reports)ã€TODO(todo_items)

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React + TypeScript
- **åç«¯**: Flask + Python
- **LLM**: OpenAI-like chat completions API
- **éƒ¨ç½²**: Docker / æœ¬åœ° / æ‰¹å¤„ç†è„šæœ¬

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨è„šæœ¬ï¼ˆæ¨è Windows ç”¨æˆ·ï¼‰â­

**Windows ç”¨æˆ·æœ€ç®€å•çš„æ–¹å¼ï¼š**

1. å…‹éš†é¡¹ç›®å¹¶å®‰è£…ä¾èµ–
```bash
git clone https://github.com/steven140811/Weekly-Report-and-OKR-Assistant.git
cd Weekly-Report-and-OKR-Assistant

# å®‰è£…åç«¯ä¾èµ–
cd backend
pip install -r requirements.txt

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend
npm install
cd ..
```

2. é…ç½®ç¯å¢ƒå˜é‡
```bash
# ç¼–è¾‘ backend\.env æ–‡ä»¶ï¼Œå¡«å…¥ LLM API é…ç½®
# å¦‚æœä¸é…ç½®ï¼Œå°†ä½¿ç”¨æ¨¡æ‹Ÿæ¨¡å¼
```

3. ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
```bash
# åŒå‡»è¿è¡Œæˆ–åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ
start_services.bat

# åœæ­¢æœåŠ¡
stop_services.bat
```

**ç‰¹æ€§ï¼š**
- âœ… è‡ªåŠ¨æ£€æµ‹å¹¶é‡Šæ”¾ç«¯å£å†²çª
- âœ… åç«¯ä½¿ç”¨ `pythonw.exe` å®Œå…¨åå°è¿è¡Œï¼ˆæ— çª—å£ï¼‰
- âœ… å‰ç«¯åå°è¿è¡Œ
- âœ… è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
- âœ… æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶ï¼š`backend\backend.log` å’Œ `frontend\frontend.log`
- âœ… å¯åŠ¨è„šæœ¬é€€å‡ºåæœåŠ¡ç»§ç»­è¿è¡Œ

4. è®¿é—®åº”ç”¨
- å‰ç«¯: http://localhost:5002
- åç«¯ API: http://localhost:5001

### æ–¹å¼äºŒï¼šDocker éƒ¨ç½²

```bash
# æ„å»º Docker é•œåƒ
docker-compose up -d

# è®¿é—®åº”ç”¨
# å‰ç«¯: http://localhost:3000
# åç«¯ API: http://localhost:5000
```

### æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨éƒ¨ç½²

#### åç«¯

```bash
cd backend
pip install -r requirements.txt
python app.py
```

#### å‰ç«¯

```bash
cd frontend
npm install
npm start
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
Weekly-Report-and-OKR-Assistant/
â”œâ”€â”€ backend/                 # åç«¯ Flask åº”ç”¨
â”‚   â”œâ”€â”€ app.py              # ä¸»åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config.py           # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ generator.py        # æŠ¥å‘Šç”Ÿæˆé€»è¾‘
â”‚   â”œâ”€â”€ llm_client.py       # LLM å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ parser.py           # æ–‡æœ¬è§£æå™¨
â”‚   â”œâ”€â”€ prompts.py          # AI æç¤ºè¯æ¨¡æ¿
â”‚   â”œâ”€â”€ database.py         # SQLite æ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ requirements.txt    # Python ä¾èµ–
â”‚   â”œâ”€â”€ data/               # æ•°æ®ç›®å½•
â”‚   â”‚   â””â”€â”€ reports.db      # SQLite æ•°æ®åº“æ–‡ä»¶
â”‚   â””â”€â”€ tests/              # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ frontend/               # å‰ç«¯ React åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ DailyReportEntry.tsx      # æ—¥æŠ¥å½•å…¥ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ DailyReportEntry.css
â”‚   â”‚   â”‚   â”œâ”€â”€ WeeklyReportGenerator.tsx # å‘¨æŠ¥ç”Ÿæˆç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ WeeklyReportGenerator.css
â”‚   â”‚   â”‚   â”œâ”€â”€ WeeklyReportQuery.tsx     # å‘¨æŠ¥æŸ¥è¯¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ WeeklyReportQuery.css
â”‚   â”‚   â”‚   â”œâ”€â”€ OKRGenerator.tsx          # OKR ç”Ÿæˆç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ OKRGenerator.css
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ api.ts      # API æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ App.tsx         # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docker-compose.yml      # Docker ç¼–æ’æ–‡ä»¶
â”œâ”€â”€ start_services.bat      # Windows ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ stop_services.bat       # Windows ä¸€é”®åœæ­¢è„šæœ¬
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

## ğŸ“¡ API æ¥å£

### å‘¨æŠ¥ç”Ÿæˆ
- `POST /api/generate-weekly-report` - ç”Ÿæˆå‘¨æŠ¥

### OKR ç”Ÿæˆ
- `POST /api/generate-okr` - ç”Ÿæˆ OKR

### æ—¥æŠ¥ç®¡ç†
- `GET /api/daily-reports?start_date=YYYY-MM-DD&end_date=YYYY-MM-DD` - æŸ¥è¯¢æ—¥æŠ¥
- `GET /api/daily-report/<date>` - è·å–æŒ‡å®šæ—¥æœŸæ—¥æŠ¥
- `POST /api/daily-report` - ä¿å­˜æ—¥æŠ¥
- `PUT /api/daily-report/<date>` - æ›´æ–°æ—¥æŠ¥
- `DELETE /api/daily-report/<date>` - åˆ é™¤æ—¥æŠ¥

### å‘¨æŠ¥ç®¡ç†
- `GET /api/weekly-reports?start_date=YYYY-MM-DD&end_date=YYYY-MM-DD` - æŸ¥è¯¢å‘¨æŠ¥
- `GET /api/weekly-report/<id>` - è·å–æŒ‡å®šå‘¨æŠ¥
- `POST /api/weekly-report` - ä¿å­˜å‘¨æŠ¥
- `PUT /api/weekly-report/<id>` - æ›´æ–°å‘¨æŠ¥
- `DELETE /api/weekly-report/<id>` - åˆ é™¤å‘¨æŠ¥

### OKR ç®¡ç†
- `GET /api/okr-reports?quarter=YYYY-QN` - æŸ¥è¯¢ OKR
- `GET /api/okr-report/<id>` - è·å–æŒ‡å®š OKR
- `POST /api/okr-report` - ä¿å­˜ OKR
- `PUT /api/okr-report/<id>` - æ›´æ–° OKR
- `DELETE /api/okr-report/<id>` - åˆ é™¤ OKR

### TODO ç®¡ç†
- `GET /api/todo-items` - è·å–æ‰€æœ‰ TODO é¡¹
- `POST /api/todo-items` - åˆ›å»º TODO é¡¹
- `PUT /api/todo-items/<id>` - æ›´æ–° TODO é¡¹ï¼ˆå†…å®¹/å®ŒæˆçŠ¶æ€ï¼‰
- `DELETE /api/todo-items/<id>` - åˆ é™¤ TODO é¡¹

## ğŸ”§ ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `backend/.env` æ–‡ä»¶ä¸­é…ç½® LLM ç›¸å…³å‚æ•°ã€‚å¯ä»¥å‚è€ƒé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `.env.example` æ–‡ä»¶è¿›è¡Œé…ç½®ã€‚

**é…ç½®ç¤ºä¾‹ï¼š**

```bash
# LLM Configuration (Required for real LLM calls)
# If not configured, the application will use mock mode
LLM_API_URL=https://api.deepseek.com/v1    # LLM API åœ°å€
LLM_API_KEY=sk-your-api-key-here           # æ‚¨çš„ API å¯†é’¥
LLM_MODEL=deepseek-chat                     # æ¨¡å‹åç§°

# Optional: LLM timeout and retry settings
LLM_TIMEOUT=30                              # è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ 30
LLM_RETRY=2                                 # é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ 2

# Flask Configuration
PORT=5001                                   # åç«¯æœåŠ¡ç«¯å£
FLASK_DEBUG=false                           # è°ƒè¯•æ¨¡å¼å¼€å…³
```

**é…ç½®æ­¥éª¤ï¼š**

1. å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼š
   ```bash
   cp .env.example backend/.env
   ```

2. ç¼–è¾‘ `backend/.env` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„ LLM API é…ç½®
   - `LLM_API_URL`: LLM æœåŠ¡çš„ API åœ°å€
   - `LLM_API_KEY`: æ‚¨çš„ API å¯†é’¥ï¼ˆå¿…å¡«ï¼‰
   - `LLM_MODEL`: ä½¿ç”¨çš„æ¨¡å‹åç§°

3. å¦‚æœªé…ç½® LLMï¼Œåº”ç”¨å°†ä»¥æ¨¡æ‹Ÿæ¨¡å¼è¿è¡Œï¼ˆè¿”å›æµ‹è¯•æ•°æ®ï¼‰

**æ”¯æŒçš„ LLM æä¾›å•†ï¼š**
- DeepSeek: `https://api.deepseek.com/v1`
- OpenAI: `https://api.openai.com/v1`
- Azure OpenAI: `https://your-resource.openai.azure.com/`
- å…¶ä»–å…¼å®¹ OpenAI API æ ¼å¼çš„æœåŠ¡

## ğŸ“ è®¸å¯è¯

MIT License
