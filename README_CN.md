# å‘¨æŠ¥ä¸OKRåŠ©æ‰‹

ä¸­æ–‡æ–‡æ¡£ | [English](README.md)

ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œå¸®åŠ©æ‚¨é«˜æ•ˆç”Ÿæˆå‘¨æŠ¥å’Œç®¡ç†OKRï¼ˆç›®æ ‡ä¸å…³é”®æˆæœï¼‰ã€‚åŸºäº LLM çš„æ™ºèƒ½å‘¨æŠ¥å’Œ OKR ç”Ÿæˆå·¥å…·ï¼Œæ”¯æŒä»æ—¥æŠ¥è‡ªåŠ¨ç”Ÿæˆè§„èŒƒçš„å‘¨æŠ¥é‚®ä»¶æ­£æ–‡ï¼Œä»¥åŠæ ¹æ®å†å²ææ–™ç”Ÿæˆå­£åº¦ OKRã€‚

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### ğŸ“… æ—¥æŠ¥å½•å…¥
- **æ—¥å†è§†å›¾**ï¼šå¤§æ—¥å†ç•Œé¢ï¼Œç‚¹å‡»æ—¥æœŸç›´æ¥å½•å…¥æ—¥æŠ¥
- **å‘¨æœ«æ ‡è¯†**ï¼šå‘¨å…­å‘¨æ—¥çº¢è‰²å­—ä½“æ˜¾ç¤º
- **æ•°æ®æŒä¹…åŒ–**ï¼šæ—¥æŠ¥è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ° SQLite æ•°æ®åº“
- **å¿«æ·æ¨¡æ¿**ï¼šæ”¯æŒæ’å…¥æ—¥æŠ¥æ¨¡æ¿ï¼Œå¿«é€Ÿå¡«å†™
- **çŠ¶æ€æ ‡è¯†**ï¼šå·²å½•å…¥æ—¥æœŸç»¿è‰²æ ‡è®°ï¼Œä¸€ç›®äº†ç„¶
- **ç»Ÿè®¡åŠŸèƒ½**ï¼šæ˜¾ç¤ºæœ¬æœˆå’Œæ€»è®¡å½•å…¥æ•°é‡
- **TODO Tips**ï¼šå·¦ä¾§æ‚¬æµ®è®°äº‹æ¿ï¼Œå¯æ·»åŠ /å‹¾é€‰/åˆ é™¤ TODO é¡¹

### ğŸ“‹ å‘¨æŠ¥ç”Ÿæˆ
- **è‡ªåŠ¨å‘¨æŠ¥ç”Ÿæˆ**ï¼šä»æ–‡æœ¬æ—¥æŠ¥ï¼ˆå•å¤©æˆ–æ•´å‘¨æ‹¼æ¥ï¼‰ç”Ÿæˆå›ºå®šç»“æ„çš„å‘¨æŠ¥é‚®ä»¶æ­£æ–‡
- **ä»æ—¥æŠ¥å¯¼å…¥**ï¼šä¸€é”®é€‰æ‹©å·²å½•å…¥çš„æ—¥æŠ¥ï¼Œæ”¯æŒè‡ªå®šä¹‰æ—¥æœŸèŒƒå›´ï¼ˆå¯é€‰å†å²æ—¥æŠ¥ï¼‰
- **æ™ºèƒ½æ—¥æœŸè¯†åˆ«**ï¼šè‡ªåŠ¨è¯†åˆ«æ—¥æœŸæ ¼å¼ï¼ˆ`20251212 8h` æˆ– `2025-12-12 8h`ï¼‰
- **æ™ºèƒ½åˆ†ç±»**ï¼šè‡ªåŠ¨å½’ç±»æ‰‹ä¸Šé¡¹ç›®ã€æœåŠ¡åŒ–èƒ½åŠ›å»ºè®¾ã€é¢„ç ”ã€å…¶ä»–äº‹åŠ¡æ€§å·¥ä½œ
- **å»é‡åˆå¹¶**ï¼šè‡ªåŠ¨å»é‡åˆå¹¶ç›¸ä¼¼æ¡ç›®
- **é£é™©åˆ†æ**ï¼šé£é™©ç‚¹æå–ä¸åº”å¯¹å»ºè®®
- **ä¿å­˜å‘¨æŠ¥**ï¼šç”Ÿæˆçš„å‘¨æŠ¥å¯ä¿å­˜åˆ°æ•°æ®åº“

### ğŸ” å‘¨æŠ¥æŸ¥è¯¢
- **å†å²æŸ¥è¯¢**ï¼šæŒ‰æ—¥æœŸèŒƒå›´æŸ¥è¯¢å†å²å‘¨æŠ¥
- **ç¼–è¾‘åŠŸèƒ½**ï¼šå¯ç¼–è¾‘å·²ä¿å­˜çš„å‘¨æŠ¥
- **åˆ é™¤åŠŸèƒ½**ï¼šå¯åˆ é™¤ä¸éœ€è¦çš„å‘¨æŠ¥è®°å½•

### ğŸ¯ OKR ç®¡ç†
- **æ™ºèƒ½ OKR ç”Ÿæˆ**ï¼šç»“åˆå†å²ææ–™ç”Ÿæˆä¸‹ä¸€å­£åº¦ OKR
- **æ˜ç¡®æ—¶é—´èŠ‚ç‚¹**ï¼šæ¯ä¸ª KR åŒ…å«æ˜ç¡®æ—¥æœŸèŠ‚ç‚¹ï¼ˆ`YYYY-MM-DDå‰`ï¼‰
- **é‡åŒ–æŒ‡æ ‡**ï¼šæ¯ä¸ª KR åŒ…å«é‡åŒ–è¡¨è¾¾ï¼ˆé˜ˆå€¼/æ¯”ä¾‹/æ•°é‡ç­‰ï¼‰
- **é‡Œç¨‹ç¢‘è§„åˆ’**ï¼šå…³é”® KR åŒ…å«é˜¶æ®µé‡Œç¨‹ç¢‘ï¼ˆM1/M2/M3ï¼‰
- **ç›®æ ‡ç®¡ç†**ï¼šç”Ÿæˆ 2-3 ä¸ªåˆç†ç›®æ ‡
- **ä¿å­˜ OKR**ï¼šç”Ÿæˆçš„ OKR å¯ä¿å­˜åˆ°æ•°æ®åº“

### ğŸ’¾ æ•°æ®å­˜å‚¨
- ä½¿ç”¨ SQLite è½»é‡çº§æ•°æ®åº“
- æ•°æ®æ–‡ä»¶ä½ç½®ï¼š`backend/data/reports.db`
- å››å¼ è¡¨ï¼šæ—¥æŠ¥(daily_reports)ã€å‘¨æŠ¥(weekly_reports)ã€OKR(okr_reports)ã€TODO(todo_items)

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React + TypeScript
- **åç«¯**: Flask + Python
- **LLM**: OpenAI-like chat completions API
- **éƒ¨ç½²**: Docker / æœ¬åœ° / æ‰¹å¤„ç†è„šæœ¬

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨è„šæœ¬ï¼ˆæ¨è Windows ç”¨æˆ·ï¼‰â­

**Windows ç”¨æˆ·æœ€ç®€å•çš„æ–¹å¼ï¼š**

1. å…‹éš†é¡¹ç›®å¹¶å®‰è£…ä¾èµ–
```bash
git clone https://github.com/steven140811/Weekly-Report-and-OKR-Assistant.git
cd Weekly-Report-and-OKR-Assistant

# å®‰è£…åç«¯ä¾èµ–
cd backend
pip install -r requirements.txt

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend
npm install
cd ..
```

2. é…ç½®ç¯å¢ƒå˜é‡
```bash
# ç¼–è¾‘ backend\.env æ–‡ä»¶ï¼Œå¡«å…¥ LLM API é…ç½®
# å¦‚æœä¸é…ç½®ï¼Œå°†ä½¿ç”¨æ¨¡æ‹Ÿæ¨¡å¼
```

3. ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
```bash
# åŒå‡»è¿è¡Œæˆ–åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ
start_services.bat

# åœæ­¢æœåŠ¡
stop_services.bat
```

**ç‰¹æ€§ï¼š**
- âœ… è‡ªåŠ¨æ£€æµ‹å¹¶é‡Šæ”¾ç«¯å£å†²çª
- âœ… åç«¯ä½¿ç”¨ `pythonw.exe` å®Œå…¨åå°è¿è¡Œï¼ˆæ— çª—å£ï¼‰
- âœ… å‰ç«¯åå°è¿è¡Œ
- âœ… è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
- âœ… æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶ï¼š`backend\backend.log` å’Œ `frontend\frontend.log`
- âœ… å¯åŠ¨è„šæœ¬é€€å‡ºåæœåŠ¡ç»§ç»­è¿è¡Œ

4. è®¿é—®åº”ç”¨
- å‰ç«¯: http://localhost:5002
- åç«¯ API: http://localhost:5001

### æ–¹å¼äºŒï¼šDocker éƒ¨ç½²

```bash
# æ„å»º Docker é•œåƒ
docker-compose up -d

# è®¿é—®åº”ç”¨
# å‰ç«¯: http://localhost:3000
# åç«¯ API: http://localhost:5000
```

### æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨éƒ¨ç½²

#### åç«¯

```bash
cd backend
pip install -r requirements.txt
python app.py
```

#### å‰ç«¯

```bash
cd frontend
npm install
npm start
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
Weekly-Report-and-OKR-Assistant/
â”œâ”€â”€ backend/                 # åç«¯ Flask åº”ç”¨
â”‚   â”œâ”€â”€ app.py              # ä¸»åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config.py           # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ generator.py        # æŠ¥å‘Šç”Ÿæˆé€»è¾‘
â”‚   â”œâ”€â”€ llm_client.py       # LLM å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ parser.py           # æ–‡æœ¬è§£æå™¨
â”‚   â”œâ”€â”€ prompts.py          # AI æç¤ºè¯æ¨¡æ¿
â”‚   â”œâ”€â”€ database.py         # SQLite æ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ requirements.txt    # Python ä¾èµ–
â”‚   â”œâ”€â”€ data/               # æ•°æ®ç›®å½•
â”‚   â”‚   â””â”€â”€ reports.db      # SQLite æ•°æ®åº“æ–‡ä»¶
â”‚   â””â”€â”€ tests/              # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ frontend/               # å‰ç«¯ React åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ DailyReportEntry.tsx      # æ—¥æŠ¥å½•å…¥ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ DailyReportEntry.css
â”‚   â”‚   â”‚   â”œâ”€â”€ WeeklyReportGenerator.tsx # å‘¨æŠ¥ç”Ÿæˆç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ WeeklyReportGenerator.css
â”‚   â”‚   â”‚   â”œâ”€â”€ WeeklyReportQuery.tsx     # å‘¨æŠ¥æŸ¥è¯¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ WeeklyReportQuery.css
â”‚   â”‚   â”‚   â”œâ”€â”€ OKRGenerator.tsx          # OKR ç”Ÿæˆç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ OKRGenerator.css
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ api.ts      # API æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ App.tsx         # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docker-compose.yml      # Docker ç¼–æ’æ–‡ä»¶
â”œâ”€â”€ start_services.bat      # Windows ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ stop_services.bat       # Windows ä¸€é”®åœæ­¢è„šæœ¬
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

## ğŸ“¡ API æ¥å£

### å‘¨æŠ¥ç”Ÿæˆ
- `POST /api/generate-weekly-report` - ç”Ÿæˆå‘¨æŠ¥

### OKR ç”Ÿæˆ
- `POST /api/generate-okr` - ç”Ÿæˆ OKR

### æ—¥æŠ¥ç®¡ç†
- `GET /api/daily-reports?start_date=YYYY-MM-DD&end_date=YYYY-MM-DD` - æŸ¥è¯¢æ—¥æŠ¥
- `GET /api/daily-report/<date>` - è·å–æŒ‡å®šæ—¥æœŸæ—¥æŠ¥
- `POST /api/daily-report` - ä¿å­˜æ—¥æŠ¥
- `PUT /api/daily-report/<date>` - æ›´æ–°æ—¥æŠ¥
- `DELETE /api/daily-report/<date>` - åˆ é™¤æ—¥æŠ¥

### å‘¨æŠ¥ç®¡ç†
- `GET /api/weekly-reports?start_date=YYYY-MM-DD&end_date=YYYY-MM-DD` - æŸ¥è¯¢å‘¨æŠ¥
- `GET /api/weekly-report/<id>` - è·å–æŒ‡å®šå‘¨æŠ¥
- `POST /api/weekly-report` - ä¿å­˜å‘¨æŠ¥
- `PUT /api/weekly-report/<id>` - æ›´æ–°å‘¨æŠ¥
- `DELETE /api/weekly-report/<id>` - åˆ é™¤å‘¨æŠ¥

### OKR ç®¡ç†
- `GET /api/okr-reports?quarter=YYYY-QN` - æŸ¥è¯¢ OKR
- `GET /api/okr-report/<id>` - è·å–æŒ‡å®š OKR
- `POST /api/okr-report` - ä¿å­˜ OKR
- `PUT /api/okr-report/<id>` - æ›´æ–° OKR
- `DELETE /api/okr-report/<id>` - åˆ é™¤ OKR

### TODO ç®¡ç†
- `GET /api/todo-items` - è·å–æ‰€æœ‰ TODO é¡¹
- `POST /api/todo-items` - åˆ›å»º TODO é¡¹
- `PUT /api/todo-items/<id>` - æ›´æ–° TODO é¡¹ï¼ˆå†…å®¹/å®ŒæˆçŠ¶æ€ï¼‰
- `DELETE /api/todo-items/<id>` - åˆ é™¤ TODO é¡¹

## ğŸ”§ ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `backend/.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

```bash
LLM_PROVIDER=deepseek          # LLM æä¾›å•†
LLM_API_KEY=your_api_key       # API å¯†é’¥
LLM_MODEL_NAME=deepseek-chat   # æ¨¡å‹åç§°
LLM_BASE_URL=https://api.deepseek.com/v1  # API åœ°å€
LLM_TIMEOUT=60                 # è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
```

## ğŸ“ è®¸å¯è¯

MIT License
